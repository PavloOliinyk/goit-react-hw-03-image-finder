{"version":3,"sources":["Searchbar/Searchbar.module.css","ImageGalleryItem/ImageGalleryItem.module.css","Modal/Modal.module.css","ImageGallery/ImageGallery.module.css","Button/Button.module.css","App.module.css","ImageGalleryItem/ImageGalleryItem.js","ImageGallery/ImageGallery.js","Searchbar/Searchbar.js","Button/Button.js","Modal/Modal.js","api/imageApi.js","App.js","index.js"],"names":["module","exports","ImageGalleryItem","this","props","image","modalImage","description","className","s","onClick","onModalClick","src","alt","ImageGalleryItemImage","Component","ImageGallery","images","map","id","webformatURL","largeImageURL","tags","split","Searchbar","state","query","handleChahge","e","target","name","value","setState","handleSubmit","preventDefault","onSubmit","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","placeholder","onChange","Button","disabled","onSearch","Modal","closeModalByEsc","code","window","addEventListener","removeEventListener","Overlay","largeImg","ImageApi","page","searchQuery","a","fetch","res","json","hits","App","showModal","modalToggle","console","log","dataset","handleSumbit","resetPage","fetchImageOrPhoto","then","incrementpage","loadMoreImages","newImages","length","prevProps","prevState","scrollTo","top","document","documentElement","scrollHeight","behavior","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.104e9509.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__22JPt\",\"SearchForm\":\"Searchbar_SearchForm__2RKUO\",\"SearchFormButton\":\"Searchbar_SearchFormButton__3edbn\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__hkM1O\",\"SearchFormInput\":\"Searchbar_SearchFormInput__1Dkcm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem___0XxI\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2M892\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1ufC8\",\"Modal\":\"Modal_Modal__28Cf7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2XpU3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__joN9t\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__3s-YY\"};","import { Component } from 'react';\nimport s from './ImageGalleryItem.module.css';\n\nclass ImageGalleryItem extends Component {\n  render() {\n    const { image, modalImage, description } = this.props;\n\n    return (\n      <li className={s.ImageGalleryItem} onClick={this.props.onModalClick}>\n        <img\n          src={image}\n          data-src={modalImage}\n          alt={description}\n          className={s.ImageGalleryItemImage}\n        />\n      </li>\n    );\n  }\n}\n\nexport default ImageGalleryItem;\n","import { Component } from 'react';\nimport ImageGalleryItem from '../ImageGalleryItem';\nimport s from './ImageGallery.module.css';\n\nclass ImageGallery extends Component {\n  render() {\n    return (\n      <ul className={s.ImageGallery}>\n        {this.props.images.map(({ id, webformatURL, largeImageURL, tags }) => (\n          <ImageGalleryItem\n            onModalClick={this.props.onModalClick}\n            key={id}\n            image={webformatURL}\n            modalImage={largeImageURL}\n            description={tags.split(',')[0]}\n          />\n        ))}\n      </ul>\n    );\n  }\n}\n\nexport default ImageGallery;\n","import { Component } from \"react\";\r\nimport s from \"./Searchbar.module.css\";\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    query: \"\"\r\n  };\r\n\r\n  handleChahge = (e) => {\r\n    const { name, value } = e.target;\r\n\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    this.props.onSubmit(this.state.query);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={s.SearchFormButton}>\r\n            <span className={s.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={s.SearchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            name=\"query\"\r\n            // autoFocus\r\n            value={this.state.query}\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.handleChahge}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import { Component } from \"react\";\r\nimport s from \"./Button.module.css\";\r\n\r\nclass Button extends Component {\r\n  state = {\r\n    disabled: true\r\n  };\r\n  render() {\r\n    return (\r\n      <button type=\"button\" className={s.Button} onClick={this.props.onSearch}>\r\n        Load more\r\n      </button>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Button;\r\n","import { Component } from 'react';\nimport s from './Modal.module.css';\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.closeModalByEsc);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.closeModalByEsc);\n  }\n\n  closeModalByEsc = e => {\n    if (e.code !== 'Escape') {\n      return;\n    }\n\n    this.props.onModalClick();\n  };\n\n  render() {\n    return (\n      <div className={s.Overlay} onClick={this.props.onModalClick}>\n        <div className={s.Modal}>\n          <img src={this.props.largeImg} alt=\"\" />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Modal;\n","const API_KEY = '22797563-ef7ac6a65cc3c0715a95e250f';\nconst BASE_URL = 'https://pixabay.com/api';\n\nclass ImageApi {\n  page = 1;\n  searchQuery = '';\n\n  incrementpage() {\n    this.page += 1;\n  }\n\n  resetPage() {\n    this.page = 1;\n  }\n\n  set query(value) {\n    this.searchQuery = value;\n  }\n\n  async fetchImageOrPhoto() {\n    const res = await fetch(\n      `${BASE_URL}/?q=${this.searchQuery}&page=${this.page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n    );\n    const { hits } = await res.json();\n    return hits;\n  }\n}\n\nexport default ImageApi;\n","import { Component } from 'react';\nimport ImageGallery from './ImageGallery';\nimport Searchbar from './Searchbar';\n// import Loader from \"./Loader\";\nimport Button from './Button';\nimport Modal from './Modal';\nimport ImageApi from './api/imageApi';\nimport s from './App.module.css';\n\nconst image = new ImageApi();\n\nclass App extends Component {\n  state = {\n    images: [],\n    showModal: false,\n    modalImage: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState !== this.state && this.state.images.length > 12) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  modalToggle = e => {\n    console.log(e.target);\n    this.setState(({ showModal, modalImage }) => ({\n      showModal: !showModal,\n      modalImage: e.target.dataset.src || e.target.src,\n    }));\n  };\n\n  handleSumbit = value => {\n    image.resetPage();\n    image.query = value;\n    image.fetchImageOrPhoto().then(images => this.setState({ images }));\n    image.incrementpage();\n  };\n\n  loadMoreImages = () => {\n    image.fetchImageOrPhoto().then(newImages => {\n      if (!newImages.length) {\n        return;\n      }\n\n      this.setState(({ images }) => {\n        return {\n          images: [...images, ...newImages],\n        };\n      });\n    });\n    image.incrementpage();\n  };\n\n  render() {\n    return (\n      <div className={s.App}>\n        <Searchbar onSubmit={this.handleSumbit} />\n        {this.state.images.length > 1 && (\n          <>\n            <ImageGallery\n              images={this.state.images}\n              onModalClick={this.modalToggle}\n            />\n            <Button onSearch={this.loadMoreImages} />\n          </>\n        )}\n        {/* <Loader /> */}\n\n        {this.state.showModal && (\n          <Modal\n            largeImg={this.state.modalImage}\n            onModalClick={this.modalToggle}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  // <React.StrictMode>\r\n  //   <App />\r\n  // </React.StrictMode>,\r\n  // document.getElementById('root'),\r\n  <App />,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}